!function(t){function s(s){var e=t(s),a=e.children(".s-tabs-header").find(".s-tabs"),i=0;return a.children().each(function(){i+=t(this).outerWidth(!0)}),i}function e(s){var e=(t.data(s,"tabs").tabs,t.data(s,"tabs").options),i=t(s).addClass("s-tabs-container"),n=t("<div class='s-tabs-panels'></div>").insertBefore(i),d=[];i.children("div").each(function(){n[0].appendChild(this)}),i[0].appendChild(n[0]),d.push('<div class="s-tabs-header">'),d.push('<div class="s-scroller-left" data-action="s-scroller-left"></div>'),d.push('<div class="s-scroller-right" data-action="s-scroller-right"></div>'),d.push('<div class="s-tabs-wrap">'),d.push('<ul class="s-tabs"></ul>'),d.push("</div>"),d.push('<div class="s-tabs-tools"></div>'),d.push("</div>"),t(d.join("")).prependTo(i),n.children("div").each(function(){var i=t.extend({},e,{disabled:!!t(this).attr("disabled"),selected:!!t(this).attr("selected")});a(s,i,t(this))}),i.children(".s-tabs-header").on({mouseenter:function(s){var e=t(this).attr("data-action");t(this).addClass(e+"-hover")},mouseleave:function(s){var e=t(this).attr("data-action");t(this).removeClass(e+"-hover")}},"div.s-scroller-left,div.s-scroller-right")}function a(s,e,a){e=e||{};var n,d,l=t(s),r=t.data(s,"tabs"),o=r.options,h=r.tabs,c=l.children(".s-tabs-panels"),b=l.children(".s-tabs-header"),u=b.find(".s-tabs"),f=t("<div class='s-tabs-panel'></div>"),p=[];void 0==e.index||e.index>h.length?e.index=h.length:e.index<0&&(e.index=0),p.push('<li class="s-tabs-first">'),p.push('<a href="javascript:;" class="s-tabs-inner">'),p.push('<span class="s-tabs-title"></span>'),p.push("<span></span>"),p.push("</a>"),e.closable&&p.push('<a href="javascript:;" class="s-tabs-closed"></a>'),p.push("</li>"),n=t(p.join("")),a||(a=t(e.content?e.content:"<div></div>")),d=e.title||a.attr("title"),n.find(".s-tabs-title").html(d),a.attr("title","").appendTo(f),t.data(f[0],"options",t.extend(e,{_title:d})),e.index>=h.length?(n.appendTo(u),h.push(f),f.appendTo(c)):(n.insertBefore(u.children("li:eq('"+e.index+"'")),f.insertBefore(c.children('div.s-tabs-panel:eq("'+e.index+'")')),h.splice(e.index,0,f)),n.children("a.s-tabs-inner").css({width:o.tabWidth,height:o.tabHeight||u.outerHeight(),"line-height":(o.tabHeight||u.outerHeight())+"px"}),u.children("li").removeClass("s-tabs-first s-tabs-last"),u.children("li:first").addClass("s-tabs-first"),u.children("li:last").addClass("s-tabs-last"),e.disabled?n.addClass("s-tabs-disabled"):n.removeClass("s-tabs-disabled"),i(s)}function i(e){var a=t(e),i=a.children(".s-tabs-header"),n=i.find(".s-tabs"),d=i.children(".s-scroller-left"),l=i.children(".s-scroller-right"),r=s(e);r>n.parent().width()?(d.add(l).fadeIn(),n.css("paddingLeft",d.width())):(d.add(l).fadeOut(),n.css("paddingLeft",""))}function n(s){var e=t(s),a=t.data(s,"tabs"),i=a.options,n=e.children(".s-tabs-header");e.width("auto"==i.width?"auto":i.width),e.children(".s-tabs-panels").height("auto"==i.height?"auto":i.height-n.outerHeight(!0))}function d(s){for(var e=t.data(s,"tabs"),a=t(s).tabs("options"),i=e.tabs,n=0;n<i.length;n++){var d=t.data(i[n][0],"options");if(d&&d.selected&&!d.disabled)return o(s,n)}o(s,a.selected)}function l(s,e,a){var i=t.data(s,"tabs").tabs,n=null;if("number"==typeof e)e>=0&&e<i.length&&(n=i[e],a&&i.splice(e,1));else{for(var d=0;d<i.length;d++){var l=t.data(i[d][0],"options");if(l._title==e){n=i[d];break}}a&&i.splice(e,1)}return n}function r(s){var e=t(s),a=e.children(".s-tabs-header").find(".s-tabs"),i=a.children(".s-tabs-selected").index();return i>=0?i:-1}function o(s,e){var a,i=t.data(s,"tabs"),n=(i.tabs,t(s).children(".s-tabs-header").find(".s-tabs"));if(e<0&&(e=n.children("li:first").index()),a=l(s,e),a&&!a.is(":visible")){var d=t.data(a[0],"options")._title;n.children("li").removeClass("s-tabs-selected").eq(e).addClass("s-tabs-selected"),a.show().siblings().hide(),i.options.onSelect.call(s,d,e)}}function h(s,e){var i=t(s),n=t.data(s,"tabs"),d=(i.children(".s-tabs-header").find(".s-tabs"),n.options);void 0==e.selected&&(e.selected=!0),a(s,e),d.onAdd.call(s,e.title,e.index),e.selected&&o(s,e.index)}function c(s,e){var a=t(s),n=t.data(s,"tabs"),d=n.options,r=a.children(".s-tabs-header").find(".s-tabs"),h=l(s,e,!0),c=t.data(h[0],"options"),b=c.index;h.remove(),r.children('li:eq("'+e+'")').remove(),d.onClose.call(s,c._title,c.index),b>=n.tabs.length&&(b=n.tabs.length,--b),o(s,b),i(s)}function b(e,a,i){var n=t(e),d=n.children(".s-tabs-header").children(".s-tabs-wrap");d.children(".s-tabs-wrap"),t.data(e,"tabs"),s(e);"left"===a||"right"===div}function u(s){var e=t(s),a=t.data(s,"tabs"),i=e.children(".s-tabs-header");i.off(".tabs").on({"click.tabs":function(a){var i=t(a.target);if(i.hasClass("s-scroller-left"))b(s,"left");else if(i.hasClass("s-scroller-right"))b(s,"right");else{var n=i.closest("li"),d=i.closest(".s-tabs-closed");if(n.hasClass("s-tabs-disabled"))return!1;if(d.length)return e.tabs("close",n.index());if(n.length){var l=i.closest("li").index();o(s,l)}}},"contextmenu.tabs":function(e){var i=t(e.target).closest("li");i.hasClass("s-tabs-disabled")||i.length&&a.options.onContextMenu.call(s,e,i.find("span.s-tabs-title").html(),i.index())}})}t.fn.tabs=function(s,a){if("string"==typeof s){var i=t.fn.tabs.method[s];if(i)return i(this,a)}return s=s||{},this.each(function(){var a=t.data(this,"tabs");a?t.extend(a.options,s):(t.data(this,"tabs",{options:t.extend({},t.fn.tabs.defaults,s),tabs:[]}),e(this)),u(this),n(this),d(this)})},t.fn.tabs.method={options:function(s){var e=t.data(s[0],"tabs").options,a=r(s[0]);return e.selected=a,e},tabs:function(s){return t.data(s[0],"tabs").tabs},selectTab:function(t,s){return o(t[0],s)},getTab:function(t,s){return l(t[0],s)},getSeletedTabIndex:function(t){return r(t[0])},addTab:function(t,s){return t.each(function(){h(this,s)})},close:function(t,s){return t.each(function(){c(this,s)})}},t.fn.tabs.defaults={content:null,width:"auto",height:"auto",tabWidth:"auto",selected:!1,tabHeight:27,closable:!1,onAdd:function(t,s){},onClose:function(t,s){},onSelect:function(t,s){},onUnselect:function(t,s){},onContextMenu:function(t,s,e){}}}(jQuery);